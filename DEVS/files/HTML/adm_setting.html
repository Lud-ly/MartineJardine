<?php
    redirectToHomePageIfNoAdminConnected();
?>

<!----------------->
<!-- styles used -->
<!----------------->
<link rel="stylesheet" href="assets/css/datatables_commun.css">
<link rel="stylesheet" href="assets/css/adm_setting.css">

<!------------------>
<!-- scripts used -->
<!------------------>
<script type="text/javascript" src="assets/js/utils.js"></script>
<script type="text/javascript" src="assets/js/adm_setting.js"></script>

<div class="container-fluid" id="adm_settings">
    <!-- Titre de la page -->
    <div class="d-flex mt-4 mb-4 col-sm-12 page_title">
        <h2 class="titrePage"><img src="assets/img/setting.png" alt="Icone paramètres" class="icon"/>  PARAMÈTRES</h2>
    </div>
    <div class="col-md-12 align-self-strech mx-auto">
        <ul>
            <li>
                <!-- Choix si formation CRCD dispo -->
                <div class="form-check mb-3">
                    <label class="form-check-label" for="flexCheck">Validation téléphonique des commandes via CRCD
                    </label>
                    <div data-label="Validation via CRCD" class="right">
                        <?php
                            $checked = $oMain->getParamValue('crcdValidation') ? ' checked' : '';
                            echo '<input id="crcdValidation" class="checkbox choice" type="checkbox"' . $checked . '>'
                        ?>
                        <label checked="" onclick="" for="crcdValidation"></label>
                    </div>
                </div>
            </li>
            <li>
                <!-- menu principal des rappels -->
                <div class="form-check">
                    <p>Délai avant l'envoi d'un e-mail de rappel:</p>
                </div>
                <ul>
                    <li>
                        <!-- choix du délai de rappel de la validation de la commande -->
                        <label for="validationTime">Validation de la commande:</label>
                        <select id="validationTime" name="validationTime" class="right choice">
                            <?=
                                getSelectOptionsHtml(
                                    [
                                        '12' =>   '12 heures',
                                        '24' =>   '24 heures',
                                        '36' =>   '36 heures',
                                        '48' =>   '48 heures',
                                        '72' =>   '72 heures',
                                        '96' =>   '96 heures'
                                    ],
                                    $oMain->getParamValue('validationTime')
                                );
                            ?>
                        </select>
                    </li>
                    <li>
                        <!-- choix du délai de rappel du paiement de la commande -->
                        <label for="paymentTime">Paiement de la commande:</label>
                        <select id="paymentTime" name="paymentTime" class="right choice">
                            <?=
                                getSelectOptionsHtml(
                                    [
                                        '12' =>   '12 heures',
                                        '24' =>   '24 heures',
                                        '36' =>   '36 heures',
                                        '48' =>   '48 heures',
                                        '72' =>   '72 heures',
                                        '96' =>   '96 heures'
                                    ],
                                    $oMain->getParamValue('paymentTime')
                                );
                            ?>
                        </select>
                    </li>
                    <li>
                        <!-- choix du délai de rappel du retrait de la commande -->
                        <label for="recoveryTime">Récupération de la commande:</label>
                        <select id="recoveryTime" name="recoveryTime" class="right choice">
                            <?=
                                getSelectOptionsHtml(
                                    [
                                        '12' =>   '12 heures',
                                        '24' =>   '24 heures',
                                        '36' =>   '36 heures',
                                        '48' =>   '48 heures',
                                        '72' =>   '72 heures',
                                        '96' =>   '96 heures'
                                    ],
                                    $oMain->getParamValue('recoveryTime')
                                );
                            ?>
                        </select>
                    </li>
                </ul>
            </li>
        </ul>
        
        <!-- bouton validation des choix -->
        <div class="ml-3 mr-3 mb-2 d-flex justify-content-around align-items-center">
            <button id="save_button" type="submit" class="connexion mt-3 text-center w-75" onclick="saveModif()" disabled>Enregistrer les modifications</button>
        </div>
    </div>  
</div>